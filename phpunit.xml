<?xml version="1.0" encoding="UTF-8"?>

<phpunit backupGlobals="false"
		backupStaticAttributes="false"
		bootstrap="./tests/bootstrap.php"
		colors="true"
		stopOnFailure="true"
>
	<testsuites>
		<testsuite name="Tests/Unit">
			<directory suffix="Test.php">./tests/unit</directory>
		</testsuite>
		<testsuite name="feature">
			<directory suffix="Test.php">./tests/feature</directory>
		</testsuite>
	</testsuites>
	<filter>
		<whitelist processUncoveredFilesFromWhitelist="true">
			<!--<directory suffix=".php">./system/core</directory>-->
			<file>./system/core/Arr.php</file>
		</whitelist>
	</filter>
	<php>



		<!-- from asgard -->

		<env name="APP_ENV" value="testing"/>
		<env name="APP_URL" value="http://localhost"/>
		<env name="CACHE_DRIVER" value="array"/>
		<env name="SESSION_DRIVER" value="array"/>
		<env name="QUEUE_DRIVER" value="sync"/>

		<!-- from laravel -->

        <server name="APP_ENV" value="testing"/>
        <server name="BCRYPT_ROUNDS" value="4"/>
        <server name="CACHE_DRIVER" value="array"/>
        <server name="DB_CONNECTION" value="sqlite"/>
        <server name="DB_DATABASE" value=":memory:"/>
        <server name="MAIL_MAILER" value="array"/>
        <server name="QUEUE_CONNECTION" value="sync"/>
        <server name="SESSION_DRIVER" value="array"/>
        <server name="TELESCOPE_ENABLED" value="false"/>

		<!-- from ci -->

		<server name="app.baseURL" value="http://example.com"/>

		<!-- Directory containing phpunit.xml -->
		<const name="HOMEPATH" value="./"/>

		<!-- Directory containing the Paths config file -->
		<const name="CONFIGPATH" value="./app/Config/"/>

		<!-- Directory containing the front controller (index.php) -->
		<const name="PUBLICPATH" value="./public/"/>

		<!-- Database configuration -->
<!--	<env name="database.tests.hostname" value="localhost"/>  -->
<!--	<env name="database.tests.database" value="tests"/>	     -->
<!--	<env name="database.tests.username" value="tests_user"/> -->
<!--	<env name="database.tests.password" value=""/>		     -->
<!--	<env name="database.tests.DBDriver" value="MySQLi"/>	 -->
<!--	<env name="database.tests.DBPrefix" value="tests_"/>	 -->
		<env name="database.tests.database" value=":memory:"/>
		<env name="database.tests.DBDriver" value="SQLite3"/>

	</php>
</phpunit>
